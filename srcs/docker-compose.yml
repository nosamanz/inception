#docker-compose version
version: '3'

services:

		nginx:

			conteiner_name: nginx

			build: ./requirements/nginx

			ports:
				- 443:443

			volumes:
				- wordpress_data:/var/www/html

			restart: always

			networks:
				- network

		mariadb:
			conteiner_name: mariadb
			build: ./requirements/mariadb
			volumes:
				- mariadb_data:/var/lib/mysql
			networks:
				- network
			restart: always
			env_file:
				- .env

volumes:
	mariadb_data:
		driver: local
		driver_opts:
			type: none
			device: /home/data/mysql
			o: bind
	wordpress_data:
		driver: local
		driver_opts:
			type: none
			device: /home/data/wordpress
			o: bind

networks:
	network:
		driver: bridge
